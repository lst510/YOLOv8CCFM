# YOLOv8CCFM
1.YOLOv8s
YOLOv8sæ¨¡å‹ä¸»è¦ç”±ä¸»å¹²ç½‘ç»œã€é¢ˆéƒ¨ç½‘ç»œã€å¤´éƒ¨ç½‘ç»œ3éƒ¨åˆ†ç»„æˆã€‚
2.CCFM
RT-DETRä¸­çš„è½»é‡çº§è·¨å°ºåº¦ç‰¹å¾èåˆæ¨¡å—CCFMï¼ˆCross-Scale Feature Fusion Moduleï¼‰åœ¨Swin Transformerä¸­çš„å¤šå°ºåº¦ç‰¹å¾èåˆç­–ç•¥åŸºç¡€ä¸Šï¼Œè¿›ä¸€æ­¥ä¼˜åŒ–äº†æ¨¡å‹çš„è®¡ç®—æ•ˆç‡ï¼Œ
å…¶é‡‡ç”¨äº†é«˜æ•ˆçš„ç‰¹å¾èåˆç­–ç•¥ï¼Œé€šè¿‡ç®€åŒ–çš„å·ç§¯æ“ä½œå’Œå‚æ•°å…±äº«å‡å°‘äº†è®¡ç®—è´Ÿæ‹…å’Œå‚æ•°æ•°é‡ï¼ŒåŒæ—¶é€šè¿‡å°ºåº¦å†…äº¤äº’å’Œè·¨å°ºåº¦èåˆçš„ä¸¤æ­¥æ“ä½œï¼Œæœ‰æ•ˆåœ°æ•´åˆäº†å¤šå°ºåº¦ç‰¹å¾ï¼Œé¿å…äº†å†—ä½™è®¡ç®—ã€‚
3.æ”¹è¿›çš„yolov8s
ä¸ºäº†æé«˜ç¼ºé™·æ£€æµ‹æ¨¡å‹çš„æ€§èƒ½å’Œæ•ˆç‡ï¼ŒåŸºäºYOLOv8sæ¨¡å‹è¿›è¡Œæ”¹è¿›ï¼Œé€šè¿‡åœ¨YOLOv8sé¢ˆéƒ¨ç½‘ç»œä¸­èåˆè½»é‡çº§ç½‘ç»œCCFMæ¨¡å—æ„å»ºå…¨æ–°çš„é¢ˆéƒ¨ç½‘ç»œï¼Œä»è€Œæå‡ºä¸€ç§æ–°çš„åŸºäºè½»é‡åŒ–YOLOv8sçš„é’¢æè¡¨é¢ç¼ºé™·æ£€æµ‹æ¨¡å‹ã€‚
4.å®éªŒè¿è¡Œ
ï¼ˆ1ï¼‰åœ¨autodlï¼ˆhttps://www.autodl.com/homeï¼‰å¹³å°ç§Ÿç”¨ä¸€ä¸ªåˆé€‚çš„æœåŠ¡å™¨è¿è¡Œè¯¥æ”¹è¿›çš„YOLOv8sæ¨¡å‹
ï¼ˆ2ï¼‰åœ¨å®˜ç½‘ä¸‹è½½YOLOv8æºç å‹ç¼©åŒ…å¹¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œæ‰“å¼€æœåŠ¡å™¨ç»ˆç«¯è¾“å…¥unzip ultralytics-main.zipæŒ‡ä»¤è§£å‹æ¨¡å‹
ï¼ˆ3ï¼‰æ–°å»ºä¸€ä¸ªdatasetsæ–‡ä»¶å¤¹ç”¨äºå­˜æ”¾æ•°æ®é›†
ï¼ˆ4)å°†é’¢æè¡¨é¢ç¼ºé™·æ®é›†NEU-DETæ•°æ®é›†æŒ‰ç…§7:2:1çš„æ¯”ä¾‹åˆ’è®­ç»ƒé›†ã€éªŒè¯é›†å’Œæµ‹è¯•é›†ã€‚åˆ’åˆ†åçš„æ•°æ®é›†æœ‰imageså’Œlabelsä¸¤ä¸ªæ–‡ä»¶å¤¹ï¼Œæ¯ä¸ªæ–‡ä»¶å¤¹åˆæœ‰trainï¼Œvalï¼Œtestä¸‰ä¸ªå­æ–‡ä»¶å¤¹ã€‚
å°†imagesçš„testå­æ–‡ä»¶å’Œlabelsçš„testå­æ–‡ä»¶ä¸­æ‹¿å‡ºåï¼Œå†å°†å‰©ä½™imageså’Œlabelsæ–‡ä»¶å‹ç¼©æˆå‹ç¼©åŒ…mydata1ä¸Šä¼ åˆ°æœåŠ¡å™¨çš„datasetsæ–‡ä»¶å¤¹ä¸­ï¼Œ
é€‰ä¸­mydata1.zipç„¶åæ‰“å¼€ç»ˆç«¯è¾“å…¥unzip mydata1.zipæŒ‡ä»¤è§£å‹mydata1æ•°æ®é›†åˆ°å½“å‰ç›®å½•ã€‚
ï¼ˆ5ï¼‰å› ä¸ºyolov8æ¨¡å‹ä¸­å·²ç»é›†æˆäº†RT-DETRä¸­CCFMæ¨¡å—ç›¸å…³æºç ï¼Œæ‰€ä»¥åªéœ€è¦å»ºç«‹mydata1æ•°æ®é›†çš„yamlæ–‡ä»¶å’Œæ”¹è¿›çš„YOLOv8sæ¨¡å‹çš„yamlæ–‡ä»¶å³å¯ï¼Œ
mydata1.yamlæ–‡ä»¶æºç ï¼š
# Ultralytics YOLO ğŸš€, AGPL-3.0 license
# COCO128 dataset https://www.kaggle.com/ultralytics/coco128 (first 128 images from COCO train2017) by Ultralytics
# Documentation: https://docs.ultralytics.com/datasets/detect/coco/
# Example usage: yolo train data=coco128.yaml
# parent
# â”œâ”€â”€ ultralytics
# â””â”€â”€ datasets
#     â””â”€â”€ coco128  â† downloads here (7 MB)
# Train/val/test sets as 1) dir: path/to/imgs, 2) file: path/to/imgs.txt, or 3) list: [path/to/imgs1, path/to/imgs2, ..]
train: mydata1/images/train # train images (relative to 'path') 128 images
val: mydata1/images/val # val images (relative to 'path') 128 images
test: # test images (optional)
nc: 6
# Classes
names:
  0: crazing
  1: inclusion
  2: patches
  3: pitted_surface
  4: rolled-in_scale
  5: scratches
æ”¹è¿›çš„YOLOv8sæ¨¡å‹çš„yamlæ–‡ä»¶-CCFM.yamlæºç ï¼š
# Ultralytics YOLO ğŸš€, AGPL-3.0 license
# YOLOv8 object detection model with P3-P5 outputs. For Usage examples see https://docs.ultralytics.com/tasks/detect

# Parameters
nc: 6  # number of classes
scales: # model compound scaling constants, i.e. 'model=yolov8n.yaml' will call yolov8.yaml with scale 'n'
  # [depth, width, max_channels]
  s: [0.33, 0.50, 1024]  # YOLOv8s summary: 225 layers, 11166560 parameters, 11166544 gradients,  28.8 GFLOPs
  

# YOLOv8.0n backbone
backbone:
  # [from, repeats, module, args]
  - [-1, 1, Conv, [64, 3, 2]]  # 0-P1/2
  - [-1, 1, Conv, [128, 3, 2]]  # 1-P2/4
  - [-1, 3, C2f, [128, True]]
  - [-1, 1, Conv, [256, 3, 2]]  # 3-P3/8
  - [-1, 6, C2f, [256, True]]
  - [-1, 1, Conv, [512, 3, 2]]  # 5-P4/16
  - [-1, 6, C2f, [512, True]]
  - [-1, 1, Conv, [1024, 3, 2]]  # 7-P5/32
  - [-1, 3, C2f, [1024, True]]
  - [-1, 1, SPPF, [1024, 5]]  # 9

# YOLOv8.0n head
head:
  - [-1, 1, Conv, [256, 1, 1]]  # 10, Y5, lateral_convs.0
  - [-1, 1, nn.Upsample, [None, 2, 'nearest']]

  - [6, 1, Conv, [256, 1, 1, None, 1, 1, False]]  # 12 input_proj.1
  - [[-2, -1], 1, Concat, [1]]
  - [-1, 3, C2f, [256]]  # 14, fpn_blocks.0
  - [-1, 1, Conv, [256, 1, 1]]  # 15, Y4, lateral_convs.1

  - [-1, 1, nn.Upsample, [None, 2, 'nearest']]
  - [4, 1, Conv, [256, 1, 1, None, 1, 1, False]]  # 17 input_proj.0
  - [[-2, -1], 1, Concat, [1]]  # cat backbone P4
  - [-1, 3, C2f, [256]]  # X3 (19), fpn_blocks.1
  - [-1, 1, Conv, [256, 3, 2]]  # 220, downsample_convs.0
  - [[-1, 15], 1, Concat, [1]]  # cat Y4
  - [-1, 3, C2f, [256]]  # F4 (22), pan_blocks.0

  - [-1, 1, Conv, [256, 3, 2]]  # 25, downsample_convs.1
  - [[-1, 10], 1, Concat, [1]]  # cat Y5
  - [-1, 3, C2f, [256]]  # F5 (25), pan_blocks.1

  - [[19, 22, 25], 1, Detect, [nc]]  # Detect(P3, P4, P5)
ï¼ˆ6ï¼‰é€‰ä¸­ultralyticsæ–‡ä»¶å¤¹æ‰“å¼€ç»ˆç«¯è¾“å…¥pip install ultralyticsä¸‹è½½YOLOv8sè¿è¡Œæ‰€éœ€è¦çš„é…ç½®æ–‡ä»¶ï¼Œ
ç„¶ååœ¨ç»ˆç«¯è¾“å…¥yolo detect train model= CCFM.yaml data= mydata1.yaml epochs=300 imgsz=640æŒ‡ä»¤å°±å¯ä»¥æˆåŠŸè¿è¡Œäº†ã€‚
(7)åœ¨ç»ˆç«¯è¾“å…¥yolo detect val model=runs/train/train17/weights/best.pt data=mydata1.yamlæŒ‡ä»¤å°±å¯ä»¥ä½¿ç”¨è®­ç»ƒå¾—åˆ°çš„æœ€å¥½æƒé‡æ–‡ä»¶è¿›è¡ŒæˆåŠŸéªŒè¯äº†ã€‚
